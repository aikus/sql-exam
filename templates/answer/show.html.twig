{% extends 'base.html.twig' %}

{% block title %}Answer{% endblock %}

{% block body %}
    <h1>Answer</h1>

    <table class="table">
        <tbody>
            <tr>
                <th>Id</th>
                <td>{{ answer.id }}</td>
            </tr>
            <tr>
                <th>Sql_text</th>
                <td>{{ answer.sqlText }}</td>
            </tr>
            <tr>
                <th>Result_table</th>
                <td>
{#                    {{ answer.resultTable }}#}
                    <table>
                        <caption>Результат</caption>
                        <thead>
                            <tr>
                                {% for key in answer.resultTable[0]|keys %}
                                <th>{{ key }}</th>
                                {% endfor %}
                            </tr>
                        </thead>
                        <tbody>
                            {% for row in answer.resultTable %}
                                <tr>
                                    {% for value in row %}
                                    <td>{{ value }}</td>
                                    {% endfor %}
                                </tr>
                            {% endfor %}
                        </tbody>
                    </table>
                </td>
            </tr>
            <tr>
                <th>Result_error</th>
                <td>{{ answer.resultError }}</td>
            </tr>
            <tr>
                <th>Start</th>
                <td>{{ answer.start ? answer.start|date('Y-m-d H:i:s') : '' }}</td>
            </tr>
            <tr>
                <th>End</th>
                <td>{{ answer.end ? answer.end|date('Y-m-d H:i:s') : '' }}</td>
            </tr>
        </tbody>
    </table>

    <a href="{{ path('app_answer_index') }}">back to list</a>

    <a href="{{ path('app_answer_edit', {'id': answer.id}) }}">edit</a>

    {{ include('answer/_delete_form.html.twig') }}
{% endblock %}
